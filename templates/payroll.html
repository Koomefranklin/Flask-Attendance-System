{# Attendance System by Koome Franklin (Mburus) #}
{# https://www.koomefranklin.github.io #}
{% extends "Admin_base.html" %}
{% block title %}
    <script>
    function AddMonth() {
      window.open("{{ url_for('Generate_Payroll') }}", "Create Payroll", "width=600px,height=600px");
    }
  </script>
{% endblock %}
{% block content %}
<div class = "form">
<button onclick="AddMonth()">Generate Payroll</button>
<form action="#" method="post">
    <label for="month">Filter by month</label>
    <select name = "month" id="month">
        <option value="" default select title="Pick Month">Select Month</option>
        <option value="1">January</option>
        <option value="2">February</option>
        <option value="3">March</option>
        <option value="4">April</option>
        <option value="5">May</option>
        <option value="6">June</option>
        <option value="7">July</option>
        <option value="8">August</option>
        <option value="9">September</option>
        <option value="10">October</option>
        <option value="11">November</option>
        <option value="12">December</option>
    </select>
    <label for="id">Filter by clerk id</label>
    <input type="text" name="id" id="id">
    <button type="submit">Filter</button>
</form>
</div>
<table>
    <caption>MDFCS Registered Clerks Payroll Summary</caption>
    <tr style="color: #ffffff; background-color: #000000">
        <th>Clerk Id</th>
        <th>Clerk Name</th>
        <th>Period</th>
        <th>Total Month hours</th>
        <th>Pay rate</th>
        <th>Payment</th>
    </tr>
{% for record in pay_roll %}
<tr>
<td>{{record.Clerks.clerk_id}}</td>
<td>{{record.Clerks.clerk_sname + " " + record.Clerks.clerk_fname}}</td>
<td>{{record.Payroll.month_year}}</td>
<td>{{record.Payroll.total_hours}}</td>
<td>{{record.Payroll.pay_rate}}</td>
<td>{{record.Payroll.total_pay}}</td>
</tr>
{% endfor %}
</table>
{% endblock %}